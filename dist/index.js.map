{"version":3,"file":"index.js","sources":["../src/utils.ts","../src/autoWidthInput/index.tsx","../src/autoWidthInput/hooks.ts"],"sourcesContent":["export function tuplify <T extends unknown[]>(...elements: T):T {\n  return elements\n}","import  React, { useEffect } from 'react'\nimport style from './css/index.module.css'\nimport { AutoWidthInputInterface } from './type'\nimport { useAutoComputeWidth,useInputFocuse } from './hooks'\n\n// const { useState } = React\n\nconst AutoWidthInput: React.FC<AutoWidthInputInterface> = ({\n  className, value, inputEl, inputDel, inputEnter,\n  inputChange, }) => {\n  const [ inputValue, setInputValue ] = React.useState(value)\n  const [ eleWidth, couterRef ] = useAutoComputeWidth(inputValue)\n  useEffect(()=>{setInputValue(value)},[value])\n  const changeHandle = (e): void => {\n    setInputValue(e.target.value)\n    // console.log(e.target.value)\n    inputChange && inputChange(e.target.value, e)\n  }\n  const inputKeyUp = (e): void => {\n    // console.log(e.keyCode)\n    const keyCode = e.keyCode\n    if (keyCode === 8) {\n      // console.log('del')\n      inputDel && inputDel(e)\n    } else if (keyCode === 13) {\n      // console.log('enter')\n      inputEnter && inputEnter(e)\n    }\n  }\n  // const inputBlurf = () => {\n  //   console.log('ffff')\n  //   inputBlur(0)\n  // }\n  // console.log(style)\n  return (\n    <div className={`${style.auto_width_input} ${className}`}>\n     {/* <div className={`fox-auto_width_input ${className}`}> */}\n      <input\n        ref={ inputEl }\n        autoComplete='off'\n        type=\"text\"\n        // onFocus={inputFocus}\n        // onBlur={inputBlurf}\n        onChange={ changeHandle }\n        onKeyUp={ inputKeyUp }\n        value={ inputValue }\n        style={ { width: `${eleWidth}px` } }\n      />\n      <span ref={ couterRef }\n        className={ style.auto_width_conpute}\n        // className={ 'fox-auto_width_conpute'}\n        >{ inputValue.replace(/\\s/g, 'o')}</span>\n    </div>\n  )\n  // return (\n  {/* //   <div className={`${style.auto_width_input} ${className}`}> */}\n  //     <input\n  //       // className={ style.input }\n  //       ref={ inputEl }\n  //       autoComplete='off'\n  //       type=\"text\"\n  //       onChange={ changeHandle }\n  //       onKeyUp={ inputKeyUp }\n  //       value={ inputValue }\n  //       style={ { width: `${eleWidth}px` } }\n  //     />\n  //     <span ref={ couterRef }\n  //       className={style.auto_width_conpute}\n  //       >{ inputValue.replace(/\\s/g, 'o')}</span>\n  //   </div>\n  // )\n}\n\n\nexport { AutoWidthInput,useInputFocuse }\n","import * as React from 'react'\nimport { tuplify } from '../utils'\n// const { useRef,useEffect ,useState } =React\nexport const useInputFocuse = () => {\n  /**\n   * @desc: input focus\n   * @returns inputEl,focusAutoWidthInput\n   */\n  const inputEl: React.MutableRefObject<any> = React.useRef(null);\n  const focusAutoWidthInput = (): void => {\n    inputEl.current.focus()\n    // call()\n  }\n  return tuplify(inputEl, focusAutoWidthInput)\n}\nexport  const useAutoComputeWidth = (value: string | number | boolean, defaultWidth: number = 12) => {\n  /**\n     * @desc: width auto compute \n     * @return eleWidth \n     * @return couterRef\n     */\n  const [ eleWidth, setEleWidth ] = React.useState(defaultWidth)\n  const couterRef: React.MutableRefObject<any> = React.useRef(null);\n  React.useEffect(() => {\n    setEleWidth(couterRef.current.offsetWidth > 12 ? couterRef.current.offsetWidth+2 : 12)\n  }, [ value ])\n  return tuplify(eleWidth, couterRef)\n}\n"],"names":["tuplify","_i","elements","_a","className","value","inputEl","inputDel","inputEnter","inputChange","_b","React","useState","inputValue","setInputValue","_c","defaultWidth","eleWidth","setEleWidth","couterRef","current","offsetWidth","useAutoComputeWidth","useEffect","style","ref","autoComplete","type","onChange","e","target","onKeyUp","keyCode","width","replace","focus"],"mappings":"4cAAgBA,qBAA8BC,mBAAAA,IAAAC,yBACrCA,mBCMiD,SAACC,OACzDC,cAAWC,UAAOC,YAASC,aAAUC,eACrCC,gBACMC,EAAgCC,UAAMC,SAASP,GAA7CQ,OAAYC,OACdC,ECI4B,SAACV,EAAkCW,gBAAAA,UAM/Db,EAA4BQ,WAAeK,GAAzCC,OAAUC,OACZC,EAAyCR,SAAa,aAC5DA,aAAgB,WACdO,EAAYC,EAAUC,QAAQC,YAAc,GAAKF,EAAUC,QAAQC,YAAY,EAAI,MAClF,CAAEhB,IACEL,EAAQiB,EAAUE,GDfOG,CAAoBT,GAA5CI,OAAUE,OAClBI,aAAU,WAAKT,EAAcT,KAAQ,CAACA,WAuBpCM,+BAAKP,UAAcoB,MAA0BpB,GAE3CO,iCACEc,IAAMnB,EACNoB,aAAa,MACbC,KAAK,OAGLC,SA9Be,SAACC,GACpBf,EAAce,EAAEC,OAAOzB,OAEvBI,GAAeA,EAAYoB,EAAEC,OAAOzB,MAAOwB,IA4BvCE,QA1Ba,SAACF,OAEZG,EAAUH,EAAEG,QACF,IAAZA,EAEFzB,GAAYA,EAASsB,GACA,KAAZG,GAETxB,GAAcA,EAAWqB,IAmBvBxB,MAAQQ,EACRW,MAAQ,CAAES,MAAUhB,UAEtBN,gCAAMc,IAAMN,EACVf,UAAYoB,GAETX,EAAWqB,QAAQ,MAAO,yBChDP,eAKtB5B,EAAuCK,SAAa,aAKnDX,EAAQM,GAJa,WAC1BA,EAAQc,QAAQe"}